/*!
 * name: next-ajax-promise
 * url: https://github.com/afeiship/next-ajax-promise
 * version: 1.0.0
 * date: 2019-09-27T09:22:13.984Z
 * license: MIT
 */
!function(){var n=n||this||window||Function("return this")(),e=n.nx||require("next-js-core2"),o=e.Ajax||require("next-ajax"),t={},i={cancelable:!1},c=e.declare("nx.AjaxPromise",{statics:{CANCELED_MAP:t,fetch:function(n,e,o,t){var i=new c(n,e,o,t);return new Promise(function(n,e){i.ajax.fetch({onSuccess:function(e){n(e)},onFail:function(n){e(n)},onTimeout:function(n){e(n)},onComplete:function(e){n(e)}})})}},methods:{init:function(n,c,u,r){var a=this,s=e.mix(null,i,r);this.ajax=new o(n,c,u,r),s.cancelable&&(t[a.__id__]=function(){a.ajax.destroy()}),Promise.prototype.destroy=function(){(t[a.__id__]||e.noop)()}}}});"undefined"!=typeof module&&module.exports&&(module.exports=c)}();