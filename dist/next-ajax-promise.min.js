/*!
 * name: next-ajax-promise
 * url: https://github.com/afeiship/next-ajax-promise
 * version: 1.0.0
 * date: 2019-09-27T09:11:09.412Z
 * license: MIT
 */
!function(){var n=n||this||window||Function("return this")(),e=n.nx||require("next-js-core2"),t=e.Ajax||require("next-ajax"),o={},i={cancelable:!1},c=e.declare("nx.AjaxPromise",{statics:{fetch:function(n,e,t,o){var i=new c(n,e,t,o);return new Promise(function(n,e){i.ajax.fetch({onSuccess:function(e){n(e)},onFail:function(n){e(n)},onTimeout:function(n){e(n)},onComplete:function(e){n(e)}})})}},methods:{init:function(n,c,u,a){var r=this,s=e.mix(null,i,a);this.ajax=new t(n,c,u,a),s.cancelable&&(cancelKey=this.__id__,o[this.__id__]=function(){r.ajax.destroy()}),Promise.prototype.destroy=function(){(o[r.__id__]||e.noop)()}}}});"undefined"!=typeof module&&module.exports&&(module.exports=c)}();